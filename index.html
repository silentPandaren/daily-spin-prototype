<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Daily Spin ‚Äî MY.GAMES Market</title>
<link rel="stylesheet" href="styles.css">
</head>
<body>

<!-- ==================== HEADER ==================== -->
<header class="site-header">
  <div class="header-inner">
    <div class="breadcrumb">
      <a href="#">Market</a><span class="sep">/</span><a href="#">Rush Royale</a>
    </div>
    <div class="header-top">
      <div class="game-info">
        <img class="game-icon" src="rush-royale-logo.png" alt="Rush Royale">
        <span class="game-title">Rush Royale</span>
      </div>
      <div class="user-balance">
        <span class="coin">üçè</span>
        92352054
        <svg class="chevron" width="10" height="6" viewBox="0 0 10 6" fill="none"><path d="M1 1l4 4 4-4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
      </div>
    </div>
    <nav class="main-nav">
      <a href="#">Home</a>
      <a href="#">Official APK</a>
      <a href="#">News</a>
      <a href="#">Shop</a>
      <a href="#">Promo codes</a>
      <a href="#">History</a>
      <a href="#" class="active">Events</a>
    </nav>
  </div>
</header>

<!-- ==================== BODY CONTENT ==================== -->
<div class="page-wrap">

  <!-- Event filter pills -->
  <div class="sub-nav">
    <button class="pill active">Daily Spin</button>
    <button class="pill">Hero Tavern</button>
    <button class="pill">Festival of Talents!</button>
  </div>

  <!-- Event header -->
  <div class="event-header">
    <h1 class="event-title">Daily Spin</h1>
  </div>

  <!-- Two-column content -->
  <div class="content-area">

    <!-- LEFT COLUMN -->
    <div class="card-left">
      <!-- About block -->
      <div class="block">
        <h2 class="block-title">About</h2>
        <p class="block-text">Try your luck! Spin the wheel every day and win valuable rewards. Coupons are earned through purchases on MY.GAMES Market and daily login.</p>

        <div class="wheel-container">
          <div class="wheel-stage">
            <div class="wheel-rim" id="wheelRim"></div>
            <canvas id="wheel" width="360" height="360"></canvas>
            <div class="hub"><div class="hub-inner"></div></div>
            <div class="pointer">
              <svg width="32" height="42" viewBox="0 0 32 42" fill="none">
                <defs>
                  <linearGradient id="ptrGrad" x1="16" y1="0" x2="16" y2="42" gradientUnits="userSpaceOnUse">
                    <stop offset="0" stop-color="#facc15"/>
                    <stop offset="1" stop-color="#f59e0b"/>
                  </linearGradient>
                </defs>
                <path d="M16 38 L3 7 A14 14 0 0 1 29 7 Z" fill="url(#ptrGrad)" stroke="#b45309" stroke-width="1"/>
                <ellipse cx="16" cy="11" rx="4.5" ry="4.5" fill="#fde68a" opacity=".5"/>
              </svg>
            </div>
          </div>
        </div>

        <div class="spin-row">
          <button class="btn-spin" id="btnSpin">üé∞ &nbsp;Spin!</button>
          <div class="no-coupons-msg" id="noCouponsMsg">Out of coupons! Earn more through purchases or daily login.</div>
        </div>

        <div class="upsell-offer" id="upsellOffer">
          <div class="upsell-badge">‚ú¶ Special Offer</div>
          <div class="upsell-title">Want more chances?<br>Get <span class="upsell-highlight">+5 free coupons</span></div>
          <div class="upsell-desc">Purchase any item on MY.GAMES Market and receive bonus spin coupons instantly!</div>
          <button class="btn-upsell" id="btnUpsell">üõí &nbsp;Go to Shop</button>
        </div>

        <div class="pity-bar-wrap" id="pityBarWrap">
          <div class="pity-bar-label">Legendary guarantee: <span id="pityCounter">0</span>/10</div>
          <div class="pity-bar-track">
            <div class="pity-bar-fill" id="pityBarFill" style="width:0%"></div>
          </div>
        </div>

        <div class="debug-panel" id="debugPanel">
          <div class="debug-panel-title">üõ† Debug Panel</div>
          <div class="debug-panel-row"><span class="debug-label">Generated Number:</span> <span id="debugNumber">‚Äî</span></div>
          <div class="debug-panel-row"><span class="debug-label">Selected Range:</span> <span id="debugRange">‚Äî</span></div>
          <div class="debug-panel-row"><span class="debug-label">Result:</span> <span id="debugResult" class="debug-result">‚Äî</span></div>
          <div class="debug-panel-row"><span class="debug-label">Pity Counter:</span> <span id="debugPity">0/10</span></div>
          <div class="debug-panel-row"><span class="debug-label">Total Spins:</span> <span id="debugTotalSpins">0</span></div>
          <div class="debug-panel-row"><span class="debug-label">Avg Spins / min:</span> <span id="debugAvgSpins">0</span></div>
          <hr class="debug-separator">
          <div class="debug-section-title">üì° Analytics Events</div>
          <div class="analytics-log" id="analyticsLog"></div>
        </div>
      </div>
    </div>

    <!-- RIGHT COLUMN -->
    <div class="card-right">
      <div class="block-right">
        <h2 class="block-title">Spin Coupons</h2>

        <div class="coupon-banner">
          <div class="coupon-banner-bg"></div>
          <div class="coupon-banner-content">
            <div class="coupon-banner-label">Available spins</div>
            <div class="coupon-banner-count" id="couponCount">3</div>
            <div class="coupon-banner-sub">spins remaining</div>
          </div>
        </div>

        <div class="how-to-start">
          <div class="step">
            <div class="step-num">1</div>
            <div class="step-text">Purchase Rush Royale items on the MY.GAMES Market.</div>
          </div>
          <div class="step">
            <div class="step-num">2</div>
            <div class="step-text">Every purchase during the event contributes a spin coupon.</div>
          </div>
          <div class="step">
            <div class="step-num">3</div>
            <div class="step-text">Prizes are automatically credited to your account after each spin.</div>
          </div>
        </div>

        <div class="divider"></div>

        <div style="display:flex;gap:8px;flex-wrap:wrap;padding-bottom:32px;">
          <button class="btn-outlined">Go shopping</button>
          <button class="btn-dev" id="btnAddCoupons" style="width:auto;flex:1;">+ 10 coupons (test)</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Legal -->
  <div class="legal">
    By making purchases on MY.GAMES Market during the event, you accept <a href="#">Terms and conditions</a>.
  </div>
</div>

<!-- ==================== MODAL ==================== -->
<div class="modal-overlay" id="modalOverlay">
  <div class="modal">
    <button class="modal-close" id="btnModalClose" aria-label="Close">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
    </button>
    <div class="modal-top">
      <div class="modal-game-row">
        <img class="modal-game-icon" src="rush-royale-logo.png" alt="Rush Royale">
        <span>Rush Royale</span>
      </div>
      <div>
        <div class="modal-received">You received</div>
        <div class="modal-prize" id="prizeText">‚Äî</div>
      </div>
    </div>
    <div class="modal-reward-icon">
      <img id="modalPrizeIcon" src="" alt="" style="width:120px;height:120px;object-fit:contain;display:none;">
    </div>
    <div class="modal-buttons">
      <button class="btn-claim" id="btnClaim">Back to market</button>
    </div>
  </div>
</div>

<canvas id="confetti"></canvas>

<script src="script.js"></script>
</body>
</html>
